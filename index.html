<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œ</title>
  <style>
    :root {
      color-scheme: light;
      --bg-1: #fff7d6;
      --bg-2: #e9f9ff;
      --bg-3: #ffffff;
      --bg-4: #fff8e7;
      --text-color: #0f172a;
      --text-sub: rgba(15, 23, 42, 0.75);
      --app-bg: rgba(255, 255, 255, 0.92);
      --border-color: rgba(15, 23, 42, 0.12);
      --shadow-color: rgba(15, 23, 42, 0.14);
      --header-bg: linear-gradient(90deg, #fff1b8, #e7fbff);
      --logo-text: #0f172a;
      --hero-bg: linear-gradient(135deg, rgba(255, 231, 122, 0.55), rgba(209, 250, 229, 0.35));
      --card-bg: #ffffff;
      --card-shadow: rgba(15, 23, 42, 0.08);
      --btn-bg: linear-gradient(180deg, #ffd84d, #ffbf1f);
      --btn-text: #0f172a;
      --btn-shadow: rgba(255, 193, 7, 0.28);
      --badge-bg: rgba(255, 193, 7, 0.22);
      --badge-border: rgba(255, 193, 7, 0.35);
      --ball-border: rgba(15, 23, 42, 0.10);
      --ball-shadow: rgba(15, 23, 42, 0.08);
      --ball-inset: rgba(255,255,255,0.7);
    }

    [data-theme="dark"] {
      color-scheme: dark;
      --bg-1: #0f172a;
      --bg-2: #1e293b;
      --bg-3: #020617;
      --bg-4: #0f172a;
      --text-color: #f1f5f9;
      --text-sub: rgba(241, 245, 249, 0.65);
      --app-bg: rgba(30, 41, 59, 0.85);
      --border-color: rgba(255, 255, 255, 0.1);
      --shadow-color: rgba(0, 0, 0, 0.4);
      --header-bg: linear-gradient(90deg, #334155, #1e293b);
      --logo-text: #0f172a;
      --hero-bg: linear-gradient(135deg, rgba(255, 231, 122, 0.15), rgba(209, 250, 229, 0.1));
      --card-bg: #1e293b;
      --card-shadow: rgba(0, 0, 0, 0.2);
      --btn-bg: linear-gradient(180deg, #ffd84d, #ffbf1f);
      --btn-text: #0f172a;
      --btn-shadow: rgba(255, 193, 7, 0.15);
      --badge-bg: rgba(255, 193, 7, 0.15);
      --badge-border: rgba(255, 193, 7, 0.25);
      --ball-border: rgba(255, 255, 255, 0.15);
      --ball-shadow: rgba(0, 0, 0, 0.3);
      --ball-inset: rgba(255,255,255,0.2);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
      background: radial-gradient(900px 500px at 20% 10%, var(--bg-1), transparent 70%),
                  radial-gradient(800px 500px at 80% 0%, var(--bg-2), transparent 65%),
                  linear-gradient(180deg, var(--bg-3), var(--bg-4));
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 24px;
      color: var(--text-color);
      transition: background 0.3s ease, color 0.3s ease;
    }

    .app {
      width: min(860px, 100%);
      border-radius: 20px;
      background: var(--app-bg);
      border: 1px solid var(--border-color);
      box-shadow: 0 18px 60px var(--shadow-color);
      overflow: hidden;
      transition: background 0.3s ease, border-color 0.3s ease;
    }

    header {
      padding: 18px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      background: var(--header-bg);
      border-bottom: 1px solid var(--border-color);
      transition: background 0.3s ease, border-color 0.3s ease;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 0;
    }

    .logo {
      width: 42px; height: 42px;
      border-radius: 14px;
      background: radial-gradient(circle at 30% 30%, #fff, #ffe66d 55%, #ffcf33 100%);
      border: 1px solid rgba(15, 23, 42, 0.10);
      display: grid;
      place-items: center;
      box-shadow: 0 8px 18px rgba(255, 193, 7, 0.22);
      flex: 0 0 auto;
    }

    .logo span {
      font-weight: 900;
      font-size: 14px;
      color: var(--logo-text);
      letter-spacing: -0.5px;
    }

    h1 {
      margin: 0;
      font-size: 18px;
      letter-spacing: -0.2px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .sub {
      margin: 2px 0 0;
      font-size: 12px;
      color: var(--text-sub);
    }

    .theme-toggle {
      background: none;
      border: 1px solid var(--border-color);
      padding: 8px 12px;
      border-radius: 12px;
      cursor: pointer;
      color: var(--text-color);
      font-size: 13px;
      font-weight: 600;
      box-shadow: none;
    }

    main {
      padding: 22px 20px 26px;
    }

    .screen {
      display: none;
      animation: fadeIn 220ms ease-out;
    }
    .screen.active { display: block; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .hero {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 16px;
      align-items: center;
      padding: 18px;
      border-radius: 18px;
      background: var(--hero-bg);
      border: 1px solid var(--border-color);
      transition: background 0.3s ease;
    }

    .hero h2 {
      margin: 0 0 8px;
      font-size: 22px;
      letter-spacing: -0.3px;
    }
    .hero p {
      margin: 0;
      font-size: 13px;
      color: var(--text-sub);
      line-height: 1.55;
    }

    .ctaBox {
      display: grid;
      gap: 10px;
      justify-items: end;
    }

    button {
      cursor: pointer;
      border: 0;
      border-radius: 14px;
      padding: 12px 16px;
      font-weight: 800;
      font-size: 14px;
      color: var(--btn-text);
      background: var(--btn-bg);
      box-shadow: 0 10px 22px var(--btn-shadow);
      transition: transform 0.06s ease, filter 0.2s ease;
    }
    button:hover { filter: brightness(1.03); }
    button:active { transform: translateY(1px); }

    button.secondary {
      background: transparent;
      border: 1px solid var(--border-color);
      box-shadow: none;
      font-weight: 700;
      color: var(--text-color);
    }

    .grid {
      margin-top: 16px;
      display: grid;
      gap: 12px;
    }

    .resultCard {
      padding: 14px 14px 12px;
      border-radius: 16px;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      box-shadow: 0 10px 26px var(--card-shadow);
    }

    .resultHead {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 10px;
    }

    .badge {
      font-size: 12px;
      font-weight: 800;
      padding: 6px 10px;
      border-radius: 999px;
      background: var(--badge-bg);
      border: 1px solid var(--badge-border);
    }

    .balls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
    }

    .ball {
      width: 46px;
      height: 46px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      font-weight: 900;
      color: #0f172a; /* ë²ˆí˜¸ëŠ” í•­ìƒ ì˜ ë³´ì´ê²Œ ì–´ë‘ìš´ ìƒ‰ */
      border: 1px solid var(--ball-border);
      box-shadow: inset 0 1px 0 var(--ball-inset),
                  0 8px 14px var(--ball-shadow);
      user-select: none;
    }

    /* ë¡œë˜ ëŠë‚Œ: ë²ˆí˜¸ êµ¬ê°„ë³„ ìƒ‰ìƒ */
    .range-1  { background: radial-gradient(circle at 30% 30%, #fff, #ffe66d 55%, #ffcf33 100%); }
    .range-2  { background: radial-gradient(circle at 30% 30%, #fff, #bfe7ff 55%, #5bbcff 100%); }
    .range-3  { background: radial-gradient(circle at 30% 30%, #fff, #ffd0a8 55%, #ff8a3d 100%); }
    .range-4  { background: radial-gradient(circle at 30% 30%, #fff, #c7ffd8 55%, #34d399 100%); }
    .range-5  { background: radial-gradient(circle at 30% 30%, #fff, #e6e6e6 55%, #9ca3af 100%); }

    .plus {
      font-weight: 900;
      opacity: 0.7;
      margin: 0 2px;
      color: var(--text-color);
    }

    .meta {
      margin-top: 14px;
      font-size: 12px;
      color: var(--text-sub);
    }

    .toolbar {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 14px;
    }

    .sr-only {
      position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
      overflow: hidden; clip: rect(0,0,0,0); border: 0;
    }

    @media (max-width: 680px) {
      .hero { grid-template-columns: 1fr; }
      .ctaBox { justify-items: start; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"><span>6/45</span></div>
        <div>
          <h1>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œ</h1>
          <div class="sub">ë²„íŠ¼ í•œ ë²ˆìœ¼ë¡œ 5ê²Œì„ ëœë¤ ì¶”ì²œ</div>
        </div>
      </div>
      <button id="btnTheme" class="theme-toggle" type="button" aria-label="í…Œë§ˆ ë³€ê²½">
        ğŸŒ / ğŸŒ™
      </button>
      <span class="sr-only" id="announce" aria-live="polite"></span>
    </header>

    <main>
      <!-- 1) ë©”ì¸ í™”ë©´ -->
      <section id="screenMain" class="screen active" aria-label="ë©”ì¸ í™”ë©´">
        <div class="hero">
          <div>
            <h2>ë²ˆí˜¸ ì¶”ì²œë°›ê¸°</h2>
            <p>
              ëˆ„ë¥´ë©´ 1~45ì—ì„œ ì¤‘ë³µ ì—†ì´ 6ê°œ ë²ˆí˜¸ë¥¼ ë½‘ì•„ 5ê²Œì„ì„ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.<br />
              (ê° ê²Œì„ì€ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬, ë³´ë„ˆìŠ¤ ë²ˆí˜¸ í¬í•¨)
            </p>
          </div>
          <div class="ctaBox">
            <button id="btnGo" type="button">ë²ˆí˜¸ ì¶”ì²œë°›ê¸°</button>
            <button id="btnGoNoBonus" class="secondary" type="button">ë³´ë„ˆìŠ¤ ì—†ì´ 5ê²Œì„</button>
          </div>
        </div>
      </section>

      <!-- 2) ê²°ê³¼ í™”ë©´ -->
      <section id="screenResult" class="screen" aria-label="ê²°ê³¼ í™”ë©´">
        <div class="toolbar">
          <button id="btnAgain" type="button">ë‹¤ì‹œ ì¶”ì²œë°›ê¸°</button>
          <button id="btnCopyAll" class="secondary" type="button">5ê²Œì„ ì „ì²´ ë³µì‚¬</button>
          <button id="btnBack" class="secondary" type="button">ë©”ì¸ìœ¼ë¡œ</button>
        </div>

        <div id="results" class="grid" aria-label="ì¶”ì²œ ê²°ê³¼ ëª©ë¡"></div>
        <div id="meta" class="meta"></div>
      </section>
    </main>
  </div>

  <script>
    const screenMain = document.getElementById('screenMain');
    const screenResult = document.getElementById('screenResult');

    const btnGo = document.getElementById('btnGo');
    const btnGoNoBonus = document.getElementById('btnGoNoBonus');

    const btnAgain = document.getElementById('btnAgain');
    const btnCopyAll = document.getElementById('btnCopyAll');
    const btnBack = document.getElementById('btnBack');

    const resultsEl = document.getElementById('results');
    const metaEl = document.getElementById('meta');
    const announce = document.getElementById('announce');
    const btnTheme = document.getElementById('btnTheme');

    let latest = { games: [], withBonus: true };

    // --- Theme Logic ---
    function initTheme() {
      const saved = localStorage.getItem('theme');
      if (saved === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    }

    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    }

    btnTheme.addEventListener('click', toggleTheme);
    initTheme();
    // -------------------

    function randomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function pickOneGame(withBonus) {
      const set = new Set();
      while (set.size < 6) set.add(randomInt(1, 45));
      const numbers = Array.from(set).sort((a, b) => a - b);

      if (!withBonus) return { numbers };

      let bonus;
      do { bonus = randomInt(1, 45); } while (set.has(bonus));
      return { numbers, bonus };
    }

    function pickFiveGames(withBonus) {
      return Array.from({ length: 5 }, () => pickOneGame(withBonus));
    }

    function rangeClass(n) {
      if (n <= 10) return 'range-1';
      if (n <= 20) return 'range-2';
      if (n <= 30) return 'range-3';
      if (n <= 40) return 'range-4';
      return 'range-5';
    }

    function showScreen(which) {
      screenMain.classList.toggle('active', which === 'main');
      screenResult.classList.toggle('active', which === 'result');
    }

    function renderAll(games, withBonus) {
      resultsEl.innerHTML = '';

      games.forEach((g, i) => {
        const card = document.createElement('div');
        card.className = 'resultCard';

        const head = document.createElement('div');
        head.className = 'resultHead';

        const badge = document.createElement('div');
        badge.className = 'badge';
        badge.textContent = `ê²Œì„ ${i + 1}`;

        const small = document.createElement('div');
        small.style.fontSize = '12px';
        small.style.opacity = '0.7';
        small.textContent = withBonus ? 'ë³´ë„ˆìŠ¤ í¬í•¨' : 'ë³´ë„ˆìŠ¤ ì—†ìŒ';

        head.appendChild(badge);
        head.appendChild(small);

        const balls = document.createElement('div');
        balls.className = 'balls';

        g.numbers.forEach(n => {
          const b = document.createElement('div');
          b.className = `ball ${rangeClass(n)}`;
          b.textContent = n;
          b.title = String(n);
          balls.appendChild(b);
        });

        if (withBonus) {
          const plus = document.createElement('div');
          plus.className = 'plus';
          plus.textContent = '+';
          balls.appendChild(plus);

          const bb = document.createElement('div');
          bb.className = `ball ${rangeClass(g.bonus)}`;
          bb.textContent = g.bonus;
          bb.title = `ë³´ë„ˆìŠ¤ ${g.bonus}`;
          balls.appendChild(bb);
        }

        card.appendChild(head);
        card.appendChild(balls);
        resultsEl.appendChild(card);
      });

      const now = new Date();
      metaEl.textContent = `ìƒì„± ì‹œê°: ${now.toLocaleString('ko-KR')}`;
      announce.textContent = 'ì¶”ì²œ ë²ˆí˜¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!';
    }

    function toCopyText(games, withBonus) {
      return games.map((g, i) => {
        const base = `ê²Œì„ ${i + 1}: ${g.numbers.join(', ')}`;
        return withBonus ? `${base} + ë³´ë„ˆìŠ¤ ${g.bonus}` : base;
      }).join('\n');
    }

    async function copyText(text) {
      try {
        await navigator.clipboard.writeText(text);
        announce.textContent = 'í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.';
      } catch (e) {
        const ta = document.createElement('textarea');
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        document.body.removeChild(ta);
        announce.textContent = 'ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.';
      }
    }

    function generateAndShow(withBonus) {
      const games = pickFiveGames(withBonus);
      latest = { games, withBonus };
      renderAll(games, withBonus);
      showScreen('result');
    }

    // ë©”ì¸ -> ê²°ê³¼
    btnGo.addEventListener('click', () => generateAndShow(true));
    btnGoNoBonus.addEventListener('click', () => generateAndShow(false));

    // ê²°ê³¼ í™”ë©´ ë²„íŠ¼ë“¤
    btnAgain.addEventListener('click', () => generateAndShow(latest.withBonus));
    btnBack.addEventListener('click', () => showScreen('main'));
    btnCopyAll.addEventListener('click', () => {
      const text = toCopyText(latest.games, latest.withBonus);
      if (!text) { announce.textContent = 'ë³µì‚¬í•  ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.'; return; }
      copyText(text);
    });

    // ì´ˆê¸° í™”ë©´: "ë²„íŠ¼ë§Œ" ë³´ì´ë„ë¡ ìë™ ìƒì„± ì œê±° (ìš”ì²­ì‚¬í•­)
    showScreen('main');
  </script>
</body>
</html>